<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf8">
    <script>
      mxBasePath = 'mxgraph/javascript/src';
    </script>
    <script src="mxgraph/javascript/src/js/mxClient.js">
    </script>
    <script>
      function getName(type){
        var family_number = Math.floor(Math.random() * 6);
        var family = 'Laguna'
        
        switch(family_number){
          case 0:
            return 'Sivac'
            break;
          case 1:
            return 'Xavic'            
            break;
          case 2:
            return 'Altum'            
            break;
          case 3:
            return 'Altum II'            
            break;
          case 4:
            return 'Avantos'            
            break;
          default:
          case 5:
            return 'Laguna'            
            break;
        }
        var serial_number = Math.floor(Math.random() * 1000);
        return type + ' ' + family + serial_number;
      }
      
      function main(container)
      {
        if(!mxClient.isBrowserSupported()){
          mxUtils.error('Navegador no soportado', 200, false);
        }
        else{
          mxEvent.disableContextMenu(container);
          var graph = new mxGraph(container);
          new mxRubberband(graph);
          var parent = graph.getDefaultParent();
          graph.getModel().beginUpdate();
          try{
            for(var i = 0; i < 3; i++){
              for(var j = 0; j < 3; j++){
                var v1 = graph.insertVertex(parent, null, getName('Code'), 20+j*240, 40+i*200, 280, 70);
                v1.setConnectable(false);
                var v2 = graph.insertVertex(parent, null, getName('Deco'), 200+j*240, 170+i*200, 280, 70);
                var e1 = graph.insertEdge(parent, null, '', v1, v2);
              }
            }
          }
          finally{
            graph.getModel().endUpdate();
          }
        }
      }
    </script>
  </head>
  <body onload="main(document.getElementById('graphContainer'))">
    <div id="graphContainer" style="position:relative;overflow:both;widht:5000px;height:5000px;cursor:default">
    </div>
  </body>
</html>
